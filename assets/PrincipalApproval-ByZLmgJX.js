import{j as e,g as x,b as c,G as r,a as o}from"./index-CAgeZUTc.js";const p=({classes:d,onRefresh:n})=>{const t=d.filter(s=>s.submissionStatus==="SUBMITTED"),l=async(s,a)=>{if(a==="REJECT"&&!confirm("Reject these results? Teacher will have to resubmit."))return;const i=a==="APPROVE"?"APPROVED":"DRAFT";(await o.updateClassStatus(s,i)).success?(alert(a==="APPROVE"?"Results Approved & Published!":"Results Returned to Teacher."),n()):alert("Action failed.")};return e.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[e.jsxs("h3",{className:"font-bold text-xl text-slate-800 dark:text-white flex items-center gap-2",children:[e.jsx(x,{className:"w-6 h-6 text-orange-500"})," Pending Approval (",t.length,")"]}),t.length===0&&e.jsxs("div",{className:"p-12 text-center bg-slate-50 dark:bg-slate-800/50 rounded-2xl border-2 border-dashed border-slate-200 dark:border-slate-700",children:[e.jsx("p",{className:"text-slate-400 font-bold",children:"No results waiting for approval."}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"When teachers submit marks, they will appear here."})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:t.map(s=>e.jsxs(c,{className:"border-l-4 border-l-orange-500",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-lg text-slate-800 dark:text-white",children:s.name}),e.jsx("p",{className:"text-xs text-slate-500",children:s.teacherName})]}),e.jsx("div",{className:"bg-orange-100 text-orange-700 px-2 py-1 rounded text-[10px] font-bold",children:"WAITING"})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-3 rounded-lg text-xs text-slate-600 dark:text-slate-300 mb-4",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{children:"Total Students:"}),e.jsx("span",{className:"font-bold",children:s.studentCount})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Subjects:"}),e.jsx("span",{className:"font-bold",children:s.subjects.length})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{onClick:()=>l(s.id,"APPROVE"),className:"flex-1 bg-green-600 hover:bg-green-700 text-white text-xs",children:"Approve"}),e.jsx(r,{onClick:()=>l(s.id,"REJECT"),variant:"secondary",className:"flex-1 text-red-500 hover:bg-red-50 text-xs",children:"Reject"})]})]},s.id))})]})};export{p as default};
