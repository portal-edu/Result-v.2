import{r as l,a as d,j as e,b as f,S as oe,G as y,ab as xe,d as u,B as ue,V as q,L as Ie,g as S,U as Le,ao as De,X as M,x as Ee,ah as me,E as be}from"./index-CMg5f8vO.js";import{L as Ue}from"./layout-grid-DtexI5xH.js";import{P as he}from"./plus-circle-CdgejR6K.js";import{P as Oe}from"./plus-DrMe97Hf.js";import{T as pe}from"./trash-2-CRTkqFI4.js";import{A as qe}from"./arrow-right-left-BQyovUeU.js";const Qe=({classes:j,onRefresh:N,onShowShare:ze})=>{const[T,z]=l.useState("BATCH"),[m,K]=l.useState(""),[$,B]=l.useState(""),[P,R]=l.useState(""),[F,A]=l.useState(""),[H,W]=l.useState(!1),[h,p]=l.useState([]),[V,Q]=l.useState([]),[i,G]=l.useState(null),[w,Y]=l.useState({}),[J,X]=l.useState(!1),[I,L]=l.useState(null),[ge,k]=l.useState(!1),[v,_]=l.useState(""),[Z,ee]=l.useState(""),[se,te]=l.useState(!1),[D,E]=l.useState(null),[g,ae]=l.useState([]),[c,U]=l.useState([]),[C,le]=l.useState(""),[re,ne]=l.useState(!1),[b,fe]=l.useState(null),[je,de]=l.useState(!1),[o,Ne]=l.useState(null);l.useEffect(()=>{we()},[]);const we=async()=>{const s=await d.getSchoolConfig();fe(s);const t=await d.getGlobalSyllabi();if(Q(t),s!=null&&s.syllabusProviderId){const a=t.find(r=>r.id===s.syllabusProviderId);a&&G(a)}p([{name:"Subject 1",maxMarks:50,passMarks:18},{name:"Subject 2",maxMarks:50,passMarks:18}])};l.useEffect(()=>{if(!(!m||!b)&&b.syllabusProviderId){const s=d.getSubjectsFromSyllabus(b.syllabusProviderId,m);s.length>0&&p(s)}},[m,b]);const ke=async s=>{if(s.preventDefault(),!m){alert("Please enter Class/Course Name.");return}const t=$?$.trim():"",a=t?`${m} ${t}`:m;if(j.some(n=>n.name===a)){alert(`Class "${a}" already exists!`);return}let r=F;r||(r=Math.random().toString(36).slice(-6)),W(!0);const x=await d.createClass(a,r,P,h);if(W(!1),x.success){const n=`${window.location.origin}${window.location.pathname}#/login?invite=${x.id}`;Ne({className:a,teacher:P||"Class Teacher",password:r,link:n}),de(!0),K(""),B(""),R(""),A(""),p([{name:"Subject 1",maxMarks:50,passMarks:18}]),N()}else{const n=x.message;alert("Failed: "+(typeof n=="string"?n:JSON.stringify(n)))}},ve=async()=>{if(!v)return alert("Syllabus name required");const s=Z.split(",").map(a=>a.trim()).filter(a=>a);if(s.length===0)return alert("Enter class names (e.g. 1, 2, 10)");te(!0);const t=await d.createCustomSyllabus(v,s);if(te(!1),t.success&&t.id){const a={id:t.id,name:v,description:"Custom Syllabus",classRanges:s,subjects:{}};Q(r=>[...r,a]),G(a),k(!1),_(""),ee(""),await d.updateSchoolSettings({syllabusProviderId:t.id})}else alert("Failed: "+t.message)},Ce=(s,t)=>{Y(a=>{const r=a[s]||[];if(r.includes(t)){const x=r.filter(n=>n!==t);if(x.length===0){const n={...a};return delete n[s],n}return{...a,[s]:x}}else return{...a,[s]:[...r,t].sort()}})},ye=async()=>{if(!i)return;const s=[];if(Object.entries(w).forEach(([a,r])=>{const x=d.getSubjectsFromSyllabus(i.id,a);r.forEach(n=>{const O=`${a} ${n}`;j.some(Ge=>Ge.name===O)||s.push({className:O,subjects:x})})}),s.length===0)return alert("No new classes selected or all selected classes already exist.");X(!0);const t=await d.createBulkClasses(s);X(!1),t.success&&t.created?(L(t.created.map(a=>({name:a.name,id:a.id,link:`${window.location.origin}${window.location.pathname}#/login?invite=${a.id}`}))),Y({}),N()):alert("Batch creation failed: "+t.message)},Se=async s=>{if(!window.confirm("Delete this class? All students and marks will be lost."))return;(await d.deleteClass(s)).success?N():alert("Could not delete class.")},Me=s=>{const t=`${window.location.origin}${window.location.pathname}#/login?invite=${s}`;navigator.clipboard.writeText(t),alert("Invite Link Copied!")},ce=s=>{const t=`*Class Setup Invitation*

Hello Teacher,

You have been invited to manage *${s.className}* on SchoolResult Pro.

ðŸ‘‡ *Click to Setup & Claim Class:*
${s.link}

(You can set your own password)`;window.open(`https://wa.me/?text=${encodeURIComponent(t)}`,"_blank")},Te=async s=>{E(s),ae([]),U([]),le("");const t=await d.getStudentsByClass(s.id);ae(t)},$e=s=>{U(t=>t.includes(s)?t.filter(a=>a!==s):[...t,s])},Be=async()=>{if(!C)return alert("Select a target class");if(c.length===0)return alert("Select students to move");ne(!0);const s=await d.bulkTransferStudents(c,C);ne(!1),s.success?(alert(`Moved ${c.length} students successfully.`),E(null),N()):alert("Transfer failed: "+s.message)},ie=(s,t,a)=>{const r=[...h];r[s]={...r[s],[t]:a},p(r)},Pe=()=>{p([...h,{name:"",maxMarks:50,passMarks:18}])},Ae=s=>{const t=[...h];t.splice(s,1),p(t)};return e.jsxs("div",{className:"animate-fade-in-up",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-1 rounded-xl flex gap-1 border border-slate-200 dark:border-slate-700",children:[e.jsxs("button",{onClick:()=>z("BATCH"),className:`px-6 py-2 rounded-lg text-sm font-bold flex items-center gap-2 transition-all ${T==="BATCH"?"bg-white dark:bg-slate-700 shadow text-blue-600 dark:text-white":"text-slate-500"}`,children:[e.jsx(Ue,{className:"w-4 h-4"})," Smart Batch Generator"]}),e.jsxs("button",{onClick:()=>z("SINGLE"),className:`px-6 py-2 rounded-lg text-sm font-bold flex items-center gap-2 transition-all ${T==="SINGLE"?"bg-white dark:bg-slate-700 shadow text-blue-600 dark:text-white":"text-slate-500"}`,children:[e.jsx(he,{className:"w-4 h-4"})," Manual Create"]})]})}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"md:col-span-1",children:T==="BATCH"?e.jsxs(f,{className:"border-t-4 border-t-purple-500 sticky top-24 max-h-[85vh] overflow-y-auto custom-scrollbar",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4 pb-4 border-b border-slate-100 dark:border-slate-700",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-50 dark:bg-purple-900/20 rounded-full flex items-center justify-center shrink-0",children:e.jsx(oe,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-white leading-tight",children:"Batch Wizard"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Generate multiple classes"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-2",children:"Syllabus Template"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg px-3 py-2 text-sm font-bold outline-none focus:ring-2 focus:ring-purple-500",value:(i==null?void 0:i.id)||"",onChange:s=>G(V.find(t=>t.id===s.target.value)||null),children:[e.jsx("option",{value:"",children:"Select Syllabus"}),V.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsx("button",{onClick:()=>k(!0),className:"bg-purple-600 text-white p-2 rounded-lg hover:bg-purple-700 shadow-md",title:"Create New Syllabus",children:e.jsx(Oe,{className:"w-5 h-5"})})]})]}),i?e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:"Select Classes & Divisions"}),e.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:i.classRanges.map(s=>e.jsxs("div",{className:"flex items-center justify-between bg-slate-50 dark:bg-slate-900/50 p-2 rounded-lg border border-slate-100 dark:border-slate-800",children:[e.jsxs("span",{className:"font-bold text-sm text-slate-700 dark:text-slate-300 w-12",children:["Cls ",s]}),e.jsx("div",{className:"flex gap-1",children:["A","B","C","D"].map(t=>{var r;const a=(r=w[s])==null?void 0:r.includes(t);return e.jsx("button",{onClick:()=>Ce(s,t),className:`w-8 h-8 rounded-md text-xs font-bold transition-all ${a?"bg-purple-600 text-white shadow-md":"bg-white dark:bg-slate-800 text-slate-400 border border-slate-200 dark:border-slate-700"}`,children:t},t)})})]},s))})]}):e.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl text-center",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"No Syllabus Selected"}),e.jsx("button",{onClick:()=>k(!0),className:"text-xs font-bold text-purple-600 hover:underline",children:"Create one now"})]}),e.jsx(y,{onClick:ye,disabled:J||!i||Object.keys(w).length===0,className:"w-full bg-purple-600 hover:bg-purple-700 shadow-lg shadow-purple-500/20",children:J?"Generating...":`Create ${Object.values(w).flat().length} Classes`})]})]}):e.jsxs(f,{className:"border-t-4 border-t-blue-500 sticky top-24 max-h-[85vh] overflow-y-auto custom-scrollbar",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6 pb-4 border-b border-slate-100 dark:border-slate-700",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-50 dark:bg-blue-900/20 rounded-full flex items-center justify-center shrink-0",children:e.jsx(xe,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-white leading-tight",children:"New Class"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Add a single batch"})]})]}),e.jsxs("form",{onSubmit:ke,className:"space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[e.jsxs("div",{className:"col-span-3",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 block mb-1 uppercase",children:"Class / Course"}),e.jsx(u,{placeholder:"e.g. 10 / BCA",value:m,onChange:s=>K(s.target.value),required:!0,list:"grade-suggestions",className:"font-bold"}),e.jsx("datalist",{id:"grade-suggestions",children:["Pre-KG","LKG","UKG","1","2","3","4","5","6","7","8","9","10","+1","+2"].map(s=>e.jsx("option",{value:s},s))})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 block mb-1 uppercase",children:"Batch"}),e.jsx(u,{placeholder:"A",value:$,className:"text-center font-bold",onChange:s=>{const t=s.target.value;t.length===1?B(t.toUpperCase()):B(t)}})]})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-3 rounded-xl border border-slate-200 dark:border-slate-800",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("label",{className:"text-[10px] font-bold text-slate-500 uppercase flex items-center gap-1",children:[e.jsx(ue,{className:"w-3 h-3"})," Subjects (",h.length,")"]}),e.jsx("button",{type:"button",onClick:Pe,className:"text-[10px] font-bold text-blue-600 hover:underline",children:"+ Add"})]}),e.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto custom-scrollbar",children:[h.map((s,t)=>e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx(u,{className:"h-7 text-xs px-2",placeholder:"Subject",value:s.name,onChange:a=>ie(t,"name",a.target.value),list:"master-subjects"}),e.jsx(u,{type:"number",className:"h-7 text-xs px-1 w-12 text-center",placeholder:"Max",value:s.maxMarks,onChange:a=>ie(t,"maxMarks",a.target.value)}),e.jsx("button",{type:"button",onClick:()=>Ae(t),className:"text-slate-400 hover:text-red-500",children:e.jsx(pe,{className:"w-3 h-3"})})]},t)),e.jsx("datalist",{id:"master-subjects",children:((b==null?void 0:b.masterSubjects)||[]).map(s=>e.jsx("option",{value:s},s))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 block mb-1",children:"Teacher Name (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"absolute left-3 top-3 w-4 h-4 text-slate-400"}),e.jsx(u,{className:"pl-9",placeholder:"e.g. Mrs. Smith",value:P,onChange:s=>R(s.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 block mb-1",children:"Access Password"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ie,{className:"absolute left-3 top-3 w-4 h-4 text-slate-400"}),e.jsx(u,{className:"pl-9",placeholder:"Set Password",value:F,onChange:s=>A(s.target.value)})]}),e.jsx("button",{type:"button",onClick:()=>A(Math.random().toString(36).slice(-6)),className:"bg-purple-50 dark:bg-purple-900/20 px-3 rounded-lg text-xs font-bold hover:bg-purple-100 text-purple-600 border border-purple-200",children:e.jsx(oe,{className:"w-4 h-4"})})]}),e.jsxs("p",{className:"text-[10px] text-slate-400 mt-1.5 flex items-center gap-1",children:[e.jsx(S,{className:"w-3 h-3 text-green-500"})," Leave blank to auto-generate link."]})]}),e.jsx(y,{type:"submit",disabled:H,className:"w-full flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 shadow-lg shadow-blue-500/20",children:H?"Creating...":e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"w-4 h-4"})," Create Class"]})})]})]})}),e.jsxs("div",{className:"md:col-span-2 space-y-4",children:[j.map(s=>e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-slate-100 dark:bg-slate-700 rounded-lg flex items-center justify-center font-black text-slate-500 dark:text-slate-400 text-sm",children:s.name.substring(0,2)}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-lg text-slate-800 dark:text-white flex items-center gap-2",children:[s.name,s.submissionStatus==="SUBMITTED"&&e.jsx("span",{className:"bg-orange-100 text-orange-700 text-[10px] px-2 py-0.5 rounded-full flex items-center gap-1 animate-pulse",children:"Waiting Approval"}),s.submissionStatus==="APPROVED"&&e.jsx("span",{className:"bg-green-100 text-green-700 text-[10px] px-2 py-0.5 rounded-full flex items-center gap-1",children:"Published"})]}),e.jsxs("div",{className:"text-xs text-slate-500 mt-1 flex flex-wrap gap-2 items-center",children:[e.jsxs("span",{className:"flex items-center gap-1 font-bold bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded",children:[e.jsx(Le,{className:"w-3 h-3"})," ",s.studentCount||0," Total"]}),e.jsxs("span",{className:"flex items-center gap-1 text-blue-600 bg-blue-50 px-2 py-0.5 rounded",children:[e.jsx(q,{className:"w-3 h-3"})," ",s.boysCount||0," Boys"]}),e.jsxs("span",{className:"flex items-center gap-1 text-pink-600 bg-pink-50 px-2 py-0.5 rounded",children:[e.jsx(q,{className:"w-3 h-3"})," ",s.girlsCount||0," Girls"]})]}),e.jsxs("div",{className:"text-[10px] text-slate-400 mt-1.5 flex items-center gap-2",children:[e.jsxs("span",{children:["Teacher: ",s.teacherName||"Not Assigned"]}),e.jsx("span",{className:"w-1 h-1 bg-slate-300 rounded-full"}),e.jsxs("span",{className:"font-mono",children:["Pass: ",s.password?s.password:e.jsx("span",{className:"text-orange-500 italic",children:"Not Set (Link Only)"})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsxs("button",{onClick:()=>Te(s),className:"px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-lg text-xs font-bold hover:bg-slate-200 dark:hover:bg-slate-600 flex items-center gap-1",children:[e.jsx(qe,{className:"w-3 h-3"})," Manage / Split"]}),e.jsx("button",{onClick:()=>Me(s.id),className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-lg hover:bg-indigo-100 transition-colors",children:e.jsx(De,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Se(s.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:e.jsx(pe,{className:"w-4 h-4"})})]})]},s.id)),j.length===0&&e.jsxs("div",{className:"h-full flex flex-col items-center justify-center py-12 text-center border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-2xl bg-slate-50/50 dark:bg-slate-800/50",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mb-4",children:e.jsx(xe,{className:"w-8 h-8 text-blue-500"})}),e.jsx("h3",{className:"font-bold text-slate-700 dark:text-slate-300",children:"No classes yet"}),e.jsx("p",{className:"text-slate-500 text-sm max-w-xs mx-auto mt-1",children:"Create classes using the manual form or batch wizard."})]})]})]}),ge&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4 animate-fade-in-up",children:e.jsxs(f,{className:"w-full max-w-sm relative border-t-4 border-t-purple-600 bg-white dark:bg-slate-900",children:[e.jsx("button",{onClick:()=>k(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:e.jsx(M,{className:"w-5 h-5"})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center mx-auto mb-4 border border-purple-200",children:e.jsx(ue,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"New Syllabus"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Define curriculum structure"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase block mb-1",children:"Syllabus Name"}),e.jsx(u,{placeholder:"e.g. Kerala State 2024",value:v,onChange:s=>_(s.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase block mb-1",children:"Classes Included (Comma Separated)"}),e.jsx(u,{placeholder:"1, 2, 3, 4, 5, 6, 7, 8, 9, 10",value:Z,onChange:s=>ee(s.target.value),required:!0}),e.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"Example: LKG, UKG, 1, 2, +1, +2"})]}),e.jsx(y,{onClick:ve,disabled:se,className:"w-full bg-purple-600 hover:bg-purple-700 text-white shadow-lg",children:se?"Creating...":"Create & Select"})]})]})}),D&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4 animate-fade-in-up",children:e.jsxs(f,{className:"w-full max-w-2xl bg-white dark:bg-slate-900 border-t-4 border-t-blue-500 max-h-[90vh] flex flex-col p-0",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-950",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:["Manage ",D.name]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Move students to another division."})]}),e.jsx("button",{onClick:()=>E(null),className:"text-slate-400 hover:text-slate-600",children:e.jsx(M,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar bg-white dark:bg-slate-900",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-xs font-bold text-slate-500 uppercase",children:["Students (",g.length,")"]}),e.jsx("button",{onClick:()=>U(c.length===g.length?[]:g.map(s=>s.id)),className:"text-[10px] text-blue-600 font-bold hover:underline",children:c.length===g.length?"Deselect All":"Select All"})]}),e.jsxs("div",{className:"space-y-2",children:[g.map(s=>e.jsxs("div",{onClick:()=>$e(s.id),className:`p-2 rounded-lg border cursor-pointer flex items-center justify-between transition-colors ${c.includes(s.id)?"bg-blue-50 border-blue-500 dark:bg-blue-900/30":"bg-slate-50 border-slate-100 dark:bg-slate-800 dark:border-slate-700"}`,children:[e.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:s.name}),c.includes(s.id)&&e.jsx(S,{className:"w-4 h-4 text-blue-600"})]},s.id)),g.length===0&&e.jsx("p",{className:"text-center text-slate-400 text-xs py-4",children:"No students in this class."})]})]}),e.jsxs("div",{className:"w-full md:w-64 bg-slate-50 dark:bg-slate-950 p-4 border-l border-slate-100 dark:border-slate-800",children:[e.jsx("h4",{className:"text-sm font-bold text-slate-700 dark:text-white mb-4",children:"Bulk Actions"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-2",children:"Move Selected To"}),e.jsxs("select",{className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg px-3 py-2 text-sm font-bold outline-none",value:C,onChange:s=>le(s.target.value),children:[e.jsx("option",{value:"",children:"Select Target Class"}),j.filter(s=>s.id!==D.id).map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsx(y,{onClick:Be,disabled:re||c.length===0||!C,className:"w-full bg-blue-600 hover:bg-blue-700 text-white shadow-lg",children:re?"Moving...":`Transfer ${c.length} Students`}),e.jsx("p",{className:"text-[10px] text-slate-400 text-center",children:"Use this to split classes or regroup students after promotion."})]})]})]})]})}),I&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4 animate-fade-in-up",children:e.jsxs(f,{className:"w-full max-w-2xl bg-white dark:bg-slate-900 border-t-4 border-t-green-500 max-h-[90vh] flex flex-col p-0",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:e.jsx(S,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Batch Created!"}),e.jsxs("p",{className:"text-sm text-slate-500",children:[I.length," classes generated successfully."]})]})]}),e.jsx("button",{onClick:()=>L(null),className:"text-slate-400 hover:text-slate-600",children:e.jsx(M,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-slate-50 dark:bg-slate-950/50",children:[e.jsxs("p",{className:"text-xs font-bold text-slate-500 uppercase mb-3 flex items-center gap-2",children:[e.jsx(Ee,{className:"w-3 h-3"})," Invite Links"]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:I.map((s,t)=>e.jsxs("div",{className:"bg-white dark:bg-slate-900 p-3 rounded-xl border border-slate-200 dark:border-slate-800 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-sm text-slate-800 dark:text-white",children:s.name}),e.jsx("p",{className:"text-[10px] text-slate-400",children:"Invite teacher to claim"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>navigator.clipboard.writeText(s.link),className:"p-2 bg-slate-100 hover:bg-slate-200 rounded-lg text-slate-600",title:"Copy Link",children:e.jsx(me,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ce({className:s.name,link:s.link}),className:"p-2 bg-[#25D366] hover:bg-[#20bd5a] text-white rounded-lg",title:"WhatsApp",children:e.jsx(be,{className:"w-4 h-4"})})]})]},t))})]}),e.jsx("div",{className:"p-4 border-t border-slate-100 dark:border-slate-700 text-center",children:e.jsx("button",{onClick:()=>L(null),className:"text-sm text-blue-600 font-bold hover:underline",children:"Done"})})]})}),je&&o&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4 animate-fade-in-up",children:e.jsxs(f,{className:"w-full max-w-md bg-white dark:bg-slate-900 text-center relative border-t-4 border-t-green-500",children:[e.jsx("button",{onClick:()=>de(!1),className:"absolute top-3 right-3 text-slate-400 hover:text-slate-600",children:e.jsx(M,{className:"w-5 h-5"})}),e.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(S,{className:"w-10 h-10 text-green-600 dark:text-green-400 animate-bounce"})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Class Created!"}),e.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-6",children:[e.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:o.className})," is ready. Share details with the teacher."]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 mb-6 text-left",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"Class Password"}),e.jsx("span",{className:"font-mono font-black text-lg text-blue-600 dark:text-blue-400",children:o.password})]}),e.jsx("div",{className:"h-px bg-slate-200 dark:bg-slate-700 my-2"}),e.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Invite Link:"}),e.jsx("div",{className:"bg-white dark:bg-slate-900 p-2 rounded border border-slate-200 dark:border-slate-700 text-[10px] text-slate-500 font-mono break-all",children:o.link})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>ce(o),className:"flex-1 bg-[#25D366] hover:bg-[#20bd5a] text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 shadow-lg shadow-green-500/20",children:[e.jsx(be,{className:"w-5 h-5"})," WhatsApp"]}),e.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(`Class: ${o.className}
Link: ${o.link}
Password: ${o.password}`),alert("Copied details!")},className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-slate-200",children:[e.jsx(me,{className:"w-5 h-5"})," Copy All"]})]})]})})]})};export{Qe as default};
